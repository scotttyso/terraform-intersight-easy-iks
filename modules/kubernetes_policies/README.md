# Kubernetes Policies Module

## Use this module to create Kubernetes policies within the Intersight organization

Run the plan from the Terraform cloud workspace.

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_intersight"></a> [intersight](#requirement\_intersight) | >=1.0.21 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_intersight"></a> [intersight](#provider\_intersight) | 1.0.26 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [intersight_ippool_pool.ip_pools](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/resources/ippool_pool) | resource |
| [intersight_kubernetes_addon_policy.addons](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/resources/kubernetes_addon_policy) | resource |
| [intersight_kubernetes_container_runtime_policy.container_runtime](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/resources/kubernetes_container_runtime_policy) | resource |
| [intersight_kubernetes_network_policy.network_cidr](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/resources/kubernetes_network_policy) | resource |
| [intersight_kubernetes_sys_config_policy.nodeos_config](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/resources/kubernetes_sys_config_policy) | resource |
| [intersight_kubernetes_trusted_registries_policy.trusted_certificate_authorities](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/resources/kubernetes_trusted_registries_policy) | resource |
| [intersight_kubernetes_version_policy.kubernetes_version](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/resources/kubernetes_version_policy) | resource |
| [intersight_kubernetes_virtual_machine_infra_config_policy.virtual_machine_infra_config](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/resources/kubernetes_virtual_machine_infra_config_policy) | resource |
| [intersight_kubernetes_virtual_machine_instance_type.virtual_machine_instance_type](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/resources/kubernetes_virtual_machine_instance_type) | resource |
| [intersight_asset_target.target](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/data-sources/asset_target) | data source |
| [intersight_ippool_pool.ip_pools](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/data-sources/ippool_pool) | data source |
| [intersight_kubernetes_addon_definition.addons](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/data-sources/kubernetes_addon_definition) | data source |
| [intersight_kubernetes_version.version](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/data-sources/kubernetes_version) | data source |
| [intersight_organization_organization.org_moid](https://registry.terraform.io/providers/CiscoDevNet/intersight/latest/docs/data-sources/organization_organization) | data source |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_addons_policies"></a> [addons\_policies](#input\_addons\_policies) | Intersight Kubernetes Service Add-ons Variable Map.  Add-ons Options are {ccp-monitor\|kubernetes-dashboard\|ssm} currently.<br>Key - Name of the Add-ons Policy<br>* description - A description for the policy.<br>* install\_strategy - Add-ons install strategy to determine whether an addon is installed if not present.<br>  - None - Unspecified install strategy.<br>  - NoAction - No install action performed.<br>  - InstallOnly - Only install in green field. No action in case of failure or removal.<br>  - Always - Attempt install if chart is not already installed.<br>* overrides - <br>* release\_name - Name for the helm release.<br>* release\_namespace - Namespace for the helm release.<br>* tags - List of key/value Attributes to Assign to the Policy.<br>* upgrade\_strategy - Addon upgrade strategy to determine whether an addon configuration is overwritten on upgrade.<br>  - None - Unspecified upgrade strategy.<br>  - NoAction - This choice enables No upgrades to be performed.<br>  - UpgradeOnly - Attempt upgrade if chart or overrides options change, no action on upgrade failure.<br>  - ReinstallOnFailure - Attempt upgrade first. Remove and install on upgrade failure.<br>  - AlwaysReinstall - Always remove older release and reinstall.<br>* version - Release version of the Helm Chart | <pre>map(object(<br>    {<br>      chart_name        = optional(string)<br>      chart_version     = optional(string)<br>      description       = optional(string)<br>      install_strategy  = optional(string)<br>      override_sets     = optional(list(map(string)))<br>      overrides         = optional(string)<br>      release_name      = optional(string)<br>      release_namespace = optional(string)<br>      tags              = optional(list(map(string)))<br>      upgrade_strategy  = optional(string)<br>      version           = optional(string)<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "chart_name": "",<br>    "chart_version": "",<br>    "description": "",<br>    "install_strategy": "Always",<br>    "override_sets": [],<br>    "overrides": "",<br>    "release_name": "",<br>    "release_namespace": "",<br>    "tags": [],<br>    "upgrade_strategy": "UpgradeOnly",<br>    "version": ""<br>  }<br>}</pre> | no |
| <a name="input_apikey"></a> [apikey](#input\_apikey) | Intersight API Key. | `string` | n/a | yes |
| <a name="input_container_runtime_policies"></a> [container\_runtime\_policies](#input\_container\_runtime\_policies) | Intersight Container Runtime Policy Variable Map.<br>Key - Name of the Container Runtime Policy.<br>* description - A description for the policy.<br>* docker\_daemon\_bridge\_ip - Bridge IP (--bip) including Prefix (e.g., 172.17.0.5/24) that Docker will use for the default bridge network (docker0). Containers will connect to this if no other network is configured, not used by kubernetes pods because their network is managed by CNI. However this address space must not collide with other CIDRs on your networks, including the cluster's Service CIDR, Pod Network CIDR and IP Pools.<br>* docker\_no\_proxy - Used to optionally exclude hosts or ranges from going through the proxy server.<br>  Refer to https://docs.docker.com/network/proxy/ for details.<br>* docker\_http\_proxy<br>  - hostname - HTTP/HTTPS Proxy server FQDN or IP.<br>  - port - The HTTP Proxy port number. The port number of the HTTP/HTTPS proxy must be between 1 and 65535, inclusive.<br>  - protocol - Protocol to use for the HTTP/HTTPS Proxy.<br>    * http<br>    * https<br>  - username - The username for the HTTP/HTTPS Proxy.<br>* docker\_https\_proxy<br>  - hostname - HTTP/HTTPS Proxy server FQDN or IP.<br>  - port - The HTTP Proxy port number. The port number of the HTTP/HTTPS proxy must be between 1 and 65535, inclusive.<br>  - protocol - Protocol to use for the HTTP/HTTPS Proxy.<br>    * http<br>    * https<br>  - username - The username for the HTTP/HTTPS Proxy.<br>* tags - List of key/value Attributes to Assign to the Policy. | <pre>map(object(<br>    {<br>      description               = optional(string)<br>      docker_daemon_bridge_cidr = optional(string)<br>      docker_no_proxy           = optional(list(string))<br>      docker_http_proxy = optional(list(object(<br>        {<br>          hostname = string<br>          port     = optional(number)<br>          protocol = optional(string)<br>          username = optional(string)<br>        }<br>      )))<br>      docker_https_proxy = optional(list(object(<br>        {<br>          hostname = string<br>          port     = optional(number)<br>          protocol = optional(string)<br>          username = optional(string)<br>        }<br>      )))<br>      tags = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "description": "",<br>    "docker_daemon_bridge_cidr": "",<br>    "docker_http_proxy": [<br>      {<br>        "hostname": "",<br>        "port": 8080,<br>        "protocol": "http",<br>        "username": ""<br>      }<br>    ],<br>    "docker_https_proxy": [<br>      {<br>        "hostname": "",<br>        "port": 8443,<br>        "protocol": "https",<br>        "username": ""<br>      }<br>    ],<br>    "docker_no_proxy": [],<br>    "tags": []<br>  }<br>}</pre> | no |
| <a name="input_docker_http_proxy_password"></a> [docker\_http\_proxy\_password](#input\_docker\_http\_proxy\_password) | Password for the Docker HTTP Proxy Server, If required. | `string` | `""` | no |
| <a name="input_docker_https_proxy_password"></a> [docker\_https\_proxy\_password](#input\_docker\_https\_proxy\_password) | Password for the Docker HTTPS Proxy Server, If required. | `string` | `""` | no |
| <a name="input_endpoint"></a> [endpoint](#input\_endpoint) | Intersight URL. | `string` | `"https://intersight.com"` | no |
| <a name="input_ip_pools"></a> [ip\_pools](#input\_ip\_pools) | key - Name of the IP Pool.<br>* Assignment order decides the order in which the next identifier is allocated.<br>  - default - (Default) Assignment order is decided by the system.<br>  - sequential - Identifiers are assigned in a sequential order.<br>* create\_pool - Flag to determine if the pool should be created or <br>* description - Description to Assign to the Pool.<br>* ipv4\_blocks - Map of Addresses to Assign to the Pool.<br>  - from - Starting IPv4 Address.<br>  - size - Size of the IPv4 Address Pool<br>  - to - Ending IPv4 Address.<br>* ipv4\_config - IPv4 Configuration to assign to the ipv4\_blocks.<br>  - gateway - Gateway to assign to the pool.<br>  - netmask - Netmask to assign to the pool.<br>  - primary\_dns = Primary DNS Server to Assign to the Pool<br>  - secondary\_dns = Secondary DNS Server to Assign to the Pool<br>* ipv6\_blocks - Map of Addresses to Assign to the Pool.<br>  - from - Starting IPv6 Address.<br>  - size - Size of the IPv6 Address Pool<br>  - to - Ending IPv6 Address.<br>* ipv6\_config - IPv6 Configuration to assign to the ipv6\_blocks.<br>  - gateway - Gateway to assign to the pool.<br>  - prefix - Prefix to assign to the pool.<br>  - primary\_dns = Primary DNS Server to Assign to the Pool<br>  - secondary\_dns = Secondary DNS Server to Assign to the Pool<br>* tags - List of Key/Value Pairs to Assign as Attributes to the Pool. | <pre>map(object(<br>    {<br>      assignment_order = optional(string)<br>      create_pool      = optional(bool)<br>      description      = optional(string)<br>      ipv4_blocks = optional(map(object(<br>        {<br>          from = string<br>          size = optional(number)<br>          to   = optional(string)<br>        }<br>      )))<br>      ipv4_config = optional(list(object(<br>        {<br>          gateway       = string<br>          netmask       = string<br>          primary_dns   = optional(string)<br>          secondary_dns = optional(string)<br>        }<br>      )))<br>      ipv6_blocks = optional(map(object(<br>        {<br>          from = string<br>          size = optional(number)<br>          to   = optional(string)<br>        }<br>      )))<br>      ipv6_config = optional(list(object(<br>        {<br>          gateway       = string<br>          prefix        = number<br>          primary_dns   = optional(string)<br>          secondary_dns = optional(string)<br>        }<br>      )))<br>      tags = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "assignment_order": "sequential",<br>    "create_pool": true,<br>    "description": "",<br>    "ipv4_blocks": {},<br>    "ipv4_config": [],<br>    "ipv6_blocks": {},<br>    "ipv6_config": [],<br>    "tags": []<br>  }<br>}</pre> | no |
| <a name="input_kubernetes_version_policies"></a> [kubernetes\_version\_policies](#input\_kubernetes\_version\_policies) | Intersight Kubernetes Version Policy Variable Map.<br>Key - Name of the Kubernetes Version Policy<br>* description - A description for the policy.<br>* tags - List of key/value Attributes to Assign to the Policy.<br>* version - Desired Kubernetes version.  Options are:<br>  - v1.21.10<br>  - v1.20.14 | <pre>map(object(<br>    {<br>      description = optional(string)<br>      tags        = optional(list(map(string)))<br>      version     = optional(string)<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "description": "",<br>    "tags": [],<br>    "version": "v1.21.10"<br>  }<br>}</pre> | no |
| <a name="input_network_cidr_policies"></a> [network\_cidr\_policies](#input\_network\_cidr\_policies) | Intersight Kubernetes Network CIDR Policy Variable Map.<br>Key - Name of the Network CIDR Policy.<br>* cni\_type - Supported CNI type. Currently we only support Calico.<br>  - Calico - Calico CNI plugin as described in https://github.com/projectcalico/cni-plugin<br>  - Aci - Cisco ACI Container Network Interface plugin.<br>* description - A description for the policy.<br>* pod\_network\_cidr - CIDR block to allocate pod network IP addresses from.<br>* service\_cidr - Pod CIDR Block to be used to assign Pod IP Addresses.<br>* tags - tags - List of key/value Attributes to Assign to the Policy. | <pre>map(object(<br>    {<br>      cni_type         = optional(string)<br>      description      = optional(string)<br>      pod_network_cidr = optional(string)<br>      service_cidr     = optional(string)<br>      tags             = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "cni_type": "Calico",<br>    "description": "",<br>    "pod_network_cidr": "100.64.0.0/16",<br>    "service_cidr": "100.65.0.0/16",<br>    "tags": []<br>  }<br>}</pre> | no |
| <a name="input_nodeos_configuration_policies"></a> [nodeos\_configuration\_policies](#input\_nodeos\_configuration\_policies) | Intersight Kubernetes Node OS Configuration Policy Variable Map.<br>Key - Name of the Node OS Configuration Policy<br>* description - A description for the policy.<br>* dns\_servers - DNS Servers for the Kubernetes Node OS Configuration Policy.<br>* dns\_suffix - Domain Name for the Kubernetes Node OS Configuration Policy.<br>* ntp\_servers - NTP Servers for the Kubernetes Node OS Configuration Policy.<br>* tags - tags - List of key/value Attributes to Assign to the Policy.<br>* timezone - Timezone to Assign to the Policy.  Options Below.<br>  - Africa/Abidjan<br>  - Africa/Accra<br>  - Africa/Algiers<br>  - Africa/Bissau<br>  - Africa/Cairo<br>  - Africa/Casablanca<br>  - Africa/Ceuta<br>  - Africa/El\_Aaiun<br>  - Africa/Johannesburg<br>  - Africa/Khartoum<br>  - Africa/Lagos<br>  - Africa/Maputo<br>  - Africa/Monrovia<br>  - Africa/Nairobi<br>  - Africa/Ndjamena<br>  - Africa/Tripoli<br>  - Africa/Tunis<br>  - Africa/Windhoek<br>  - America/Anchorage<br>  - America/Araguaina<br>  - America/Argentina/Buenos\_Aires<br>  - America/Asuncion<br>  - America/Bahia<br>  - America/Barbados<br>  - America/Belem<br>  - America/Belize<br>  - America/Boa\_Vista<br>  - America/Bogota<br>  - America/Campo\_Grande<br>  - America/Cancun<br>  - America/Caracas<br>  - America/Cayenne<br>  - America/Cayman<br>  - America/Chicago<br>  - America/Costa\_Rica<br>  - America/Cuiaba<br>  - America/Curacao<br>  - America/Danmarkshavn<br>  - America/Dawson\_Creek<br>  - America/Denver<br>  - America/Edmonton<br>  - America/El\_Salvador<br>  - America/Fortaleza<br>  - America/Godthab<br>  - America/Grand\_Turk<br>  - America/Guatemala<br>  - America/Guayaquil<br>  - America/Guyana<br>  - America/Halifax<br>  - America/Havana<br>  - America/Hermosillo<br>  - America/Iqaluit<br>  - America/Jamaica<br>  - America/La\_Paz<br>  - America/Lima<br>  - America/Los\_Angeles<br>  - America/Maceio<br>  - America/Managua<br>  - America/Manaus<br>  - America/Martinique<br>  - America/Mazatlan<br>  - America/Mexico\_City<br>  - America/Miquelon<br>  - America/Montevideo<br>  - America/Nassau<br>  - America/New\_York<br>  - America/Noronha<br>  - America/Panama<br>  - America/Paramaribo<br>  - America/Phoenix<br>  - America/Port\_of\_Spain<br>  - America/Port-au-Prince<br>  - America/Porto\_Velho<br>  - America/Puerto\_Rico<br>  - America/Recife<br>  - America/Regina<br>  - America/Rio\_Branco<br>  - America/Santiago<br>  - America/Santo\_Domingo<br>  - America/Sao\_Paulo<br>  - America/Scoresbysund<br>  - America/St\_Johns<br>  - America/Tegucigalpa<br>  - America/Thule<br>  - America/Tijuana<br>  - America/Toronto<br>  - America/Vancouver<br>  - America/Whitehorse<br>  - America/Winnipeg<br>  - America/Yellowknife<br>  - Antarctica/Casey<br>  - Antarctica/Davis<br>  - Antarctica/DumontDUrville<br>  - Antarctica/Mawson<br>  - Antarctica/Palmer<br>  - Antarctica/Rothera<br>  - Antarctica/Syowa<br>  - Antarctica/Vostok<br>  - Asia/Almaty<br>  - Asia/Amman<br>  - Asia/Aqtau<br>  - Asia/Aqtobe<br>  - Asia/Ashgabat<br>  - Asia/Baghdad<br>  - Asia/Baku<br>  - Asia/Bangkok<br>  - Asia/Beirut<br>  - Asia/Bishkek<br>  - Asia/Brunei<br>  - Asia/Calcutta<br>  - Asia/Choibalsan<br>  - Asia/Colombo<br>  - Asia/Damascus<br>  - Asia/Dhaka<br>  - Asia/Dili<br>  - Asia/Dubai<br>  - Asia/Dushanbe<br>  - Asia/Gaza<br>  - Asia/Hong\_Kong<br>  - Asia/Hovd<br>  - Asia/Irkutsk<br>  - Asia/Jakarta<br>  - Asia/Jayapura<br>  - Asia/Jerusalem<br>  - Asia/Kabul<br>  - Asia/Kamchatka<br>  - Asia/Karachi<br>  - Asia/Katmandu<br>  - Asia/Kolkata<br>  - Asia/Krasnoyarsk<br>  - Asia/Kuala\_Lumpur<br>  - Asia/Macau<br>  - Asia/Magadan<br>  - Asia/Makassar<br>  - Asia/Manila<br>  - Asia/Nicosia<br>  - Asia/Omsk<br>  - Asia/Pyongyang<br>  - Asia/Qatar<br>  - Asia/Rangoon<br>  - Asia/Riyadh<br>  - Asia/Saigon<br>  - Asia/Seoul<br>  - Asia/Shanghai<br>  - Asia/Singapore<br>  - Asia/Taipei<br>  - Asia/Tashkent<br>  - Asia/Tbilisi<br>  - Asia/Tehran<br>  - Asia/Thimphu<br>  - Asia/Tokyo<br>  - Asia/Ulaanbaatar<br>  - Asia/Vladivostok<br>  - Asia/Yakutsk<br>  - Asia/Yekaterinburg<br>  - Asia/Yerevan<br>  - Atlantic/Azores<br>  - Atlantic/Bermuda<br>  - Atlantic/Canary<br>  - Atlantic/Cape\_Verde<br>  - Atlantic/Faroe<br>  - Atlantic/Reykjavik<br>  - Atlantic/South\_Georgia<br>  - Atlantic/Stanley<br>  - Australia/Adelaide<br>  - Australia/Brisbane<br>  - Australia/Darwin<br>  - Australia/Hobart<br>  - Australia/Perth<br>  - Australia/Sydney<br>  - Etc/GMT<br>  - Europe/Amsterdam<br>  - Europe/Andorra<br>  - Europe/Athens<br>  - Europe/Belgrade<br>  - Europe/Berlin<br>  - Europe/Brussels<br>  - Europe/Bucharest<br>  - Europe/Budapest<br>  - Europe/Chisinau<br>  - Europe/Copenhagen<br>  - Europe/Dublin<br>  - Europe/Gibraltar<br>  - Europe/Helsinki<br>  - Europe/Istanbul<br>  - Europe/Kaliningrad<br>  - Europe/Kiev<br>  - Europe/Lisbon<br>  - Europe/London<br>  - Europe/Luxembourg<br>  - Europe/Madrid<br>  - Europe/Malta<br>  - Europe/Minsk<br>  - Europe/Monaco<br>  - Europe/Moscow<br>  - Europe/Oslo<br>  - Europe/Paris<br>  - Europe/Prague<br>  - Europe/Riga<br>  - Europe/Rome<br>  - Europe/Samara<br>  - Europe/Sofia<br>  - Europe/Stockholm<br>  - Europe/Tallinn<br>  - Europe/Tirane<br>  - Europe/Vienna<br>  - Europe/Vilnius<br>  - Europe/Warsaw<br>  - Europe/Zurich<br>  - Indian/Chagos<br>  - Indian/Christmas<br>  - Indian/Cocos<br>  - Indian/Kerguelen<br>  - Indian/Mahe<br>  - Indian/Maldives<br>  - Indian/Mauritius<br>  - Indian/Reunion<br>  - Pacific/Apia<br>  - Pacific/Auckland<br>  - Pacific/Chuuk<br>  - Pacific/Easter<br>  - Pacific/Efate<br>  - Pacific/Enderbury<br>  - Pacific/Fakaofo<br>  - Pacific/Fiji<br>  - Pacific/Funafuti<br>  - Pacific/Galapagos<br>  - Pacific/Gambier<br>  - Pacific/Guadalcanal<br>  - Pacific/Guam<br>  - Pacific/Honolulu<br>  - Pacific/Kiritimati<br>  - Pacific/Kosrae<br>  - Pacific/Kwajalein<br>  - Pacific/Majuro<br>  - Pacific/Marquesas<br>  - Pacific/Nauru<br>  - Pacific/Niue<br>  - Pacific/Norfolk<br>  - Pacific/Noumea<br>  - Pacific/Pago\_Pago<br>  - Pacific/Palau<br>  - Pacific/Pitcairn<br>  - Pacific/Pohnpei<br>  - Pacific/Port\_Moresby<br>  - Pacific/Rarotonga<br>  - Pacific/Tahiti<br>  - Pacific/Tarawa<br>  - Pacific/Tongatapu<br>  - Pacific/Wake<br>  - Pacific/Wallis | <pre>map(object(<br>    {<br>      description = optional(string)<br>      dns_servers = optional(list(string))<br>      dns_suffix  = optional(string)<br>      ntp_servers = optional(list(string))<br>      tags        = optional(list(map(string)))<br>      timezone    = optional(string)<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "description": "",<br>    "dns_servers": [<br>      "208.67.220.220",<br>      "208.67.222.222"<br>    ],<br>    "dns_suffix": "example.com",<br>    "ntp_servers": [],<br>    "tags": [],<br>    "timezone": "Etc/GMT"<br>  }<br>}</pre> | no |
| <a name="input_organization"></a> [organization](#input\_organization) | Intersight Organization Names to Apply Policy to.  https://intersight.com/an/settings/organizations/. | `string` | `"default"` | no |
| <a name="input_secretkey"></a> [secretkey](#input\_secretkey) | Intersight Secret Key. | `string` | n/a | yes |
| <a name="input_tags"></a> [tags](#input\_tags) | Please Refer to the tags variable information in the tfe module.  In the k8s\_policies module the variable is accepted as a string from terraform cloud in the terraform.auto.tfvars and extracted using locals. | `list(map(string))` | `[]` | no |
| <a name="input_target_password"></a> [target\_password](#input\_target\_password) | Target Password.  Note: this is the password of the Credentials used to register the Virtualization Target. | `string` | n/a | yes |
| <a name="input_trusted_certificate_authorities"></a> [trusted\_certificate\_authorities](#input\_trusted\_certificate\_authorities) | Intersight Kubernetes Trusted Registry Policy Variable Map.<br>Key - Name of the Trusted Certificate Authorities Policy<br>* description - A description for the policy.<br>* organization - Name of the Intersight Organization to assign this pool to.<br>  - https://intersight.com/an/settings/organizations/<br>* root\_ca\_registries - The list of root CA certificates to trust.<br>* tags - List of key/value Attributes to Assign to the Policy.<br>* unsigned\_registries - The list of unsigned registries to allow docker trust.. | <pre>map(object(<br>    {<br>      description         = optional(string)<br>      organization        = optional(string)<br>      root_ca_registries  = optional(list(string))<br>      tags                = optional(list(map(string)))<br>      unsigned_registries = optional(list(string))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "description": "",<br>    "root_ca_registries": [],<br>    "tags": [],<br>    "unsigned_registries": []<br>  }<br>}</pre> | no |
| <a name="input_virtual_machine_infra_config"></a> [virtual\_machine\_infra\_config](#input\_virtual\_machine\_infra\_config) | Intersight Kubernetes Virtual Machine Infra Config Policy Variable Map.<br>Key - Name of the Virtual Machine Infra Config Policy<br>* description - A description for the policy.<br>* tags - List of key/value Attributes to Assign to the Policy.<br>* target - Name of the IWE or vSphere Target discovered in Intersight, to provision the cluster to.<br>* virtual\_infrastructure - List of Virtual Infrastructure Configuration Parameters<br>  - cluster: (VMware) - vSphere Cluster to assign the K8S Cluster Deployment.<br>  - datastore: (VMware) - vSphere Datastore to assign the K8S Cluster Deployment.<br>  - interfaces: (Both) - IWE Interface or vSphere Port Group to assign the K8S Cluster Deployment.<br>  - ip\_pool: (IWE) - IP Pool to assign to the IKS Cluster Deployment<br>  - ip\_pool\_created: (IWE) - Flag to determine if pool was created by the workspace or is a data source.  true for created and false for data source type.<br>  - mtu: (IWE) - The MTU for this Network Interface. If left blank a default value will apply by the Operating System.<br>  - name: (IWE) - NetworkInterfaceSpec is the specification for network interfaces - including configuration of IP Pools and VRF to determine IP configuration, the operating system device settings, and virtual adapter network settings. It can be left empty when used with VirtualMachineInfraConfigPolicy - it will be filled out based on the hypervisor platform type and will match the naming and order of interfaces provided by the hypervisor.<br>  - provider\_name: (IWE) - In other words, to which named network from the Instructure Provider will the port be connected.<br>  - resource\_pool: (VMware) - vSphere Resource Pool to assign the K8S Cluster Deployment. | <pre>map(object(<br>    {<br>      description = optional(string)<br>      tags        = optional(list(map(string)))<br>      target      = string<br>      virtual_infrastructure = list(object(<br>        {<br>          cluster         = optional(string)<br>          datastore       = optional(string)<br>          disk_mode       = optional(string)<br>          interfaces      = list(string)<br>          ip_pool         = optional(string)<br>          ip_pool_created = optional(bool)<br>          mtu             = optional(number)<br>          name            = optional(string)<br>          provider_name   = optional(string)<br>          resource_pool   = optional(string)<br>          type            = string<br>          vrf             = optional(string)<br>        }<br>      ))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "description": "",<br>    "tags": [],<br>    "target": "",<br>    "virtual_infrastructure": [<br>      {<br>        "cluster": "default",<br>        "datastore": "datastore1",<br>        "disk_mode": "Block",<br>        "interfaces": [<br>          "VM Network"<br>        ],<br>        "ip_pool": "",<br>        "ip_pool_created": true,<br>        "mtu": 0,<br>        "name": "",<br>        "provider_name": "",<br>        "resource_pool": "",<br>        "type": "vmware",<br>        "vrf": ""<br>      }<br>    ]<br>  }<br>}</pre> | no |
| <a name="input_virtual_machine_instance_type"></a> [virtual\_machine\_instance\_type](#input\_virtual\_machine\_instance\_type) | Intersight Kubernetes Virtual Machine Instance Type Policy Variable Map.<br>Key - Name of the Virtual Machine Instance Type Policy<br>* cpu - Number of CPUs allocated to virtual machine.  Range is 1-40.<br>* description - A description for the policy.<br>* memory - Virtual machine memory defined in mebibytes (MiB).  Range is 1-4177920.<br>* system\_disk\_size - Ephemeral disk capacity to be provided with units example - 10 for 10 Gigabytes.<br>* tags - List of key/value Attributes to Assign to the Policy. | <pre>map(object(<br>    {<br>      cpu              = optional(number)<br>      description      = optional(string)<br>      memory           = optional(number)<br>      system_disk_size = optional(number)<br>      tags             = optional(list(map(string)))<br>    }<br>  ))</pre> | <pre>{<br>  "default": {<br>    "cpu": 4,<br>    "description": "",<br>    "memory": 16384,<br>    "system_disk_size": 40,<br>    "tags": []<br>  }<br>}</pre> | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_addons_policies"></a> [addons\_policies](#output\_addons\_policies) | moid of the Kubernetes Addon Policies. |
| <a name="output_container_runtime_policies"></a> [container\_runtime\_policies](#output\_container\_runtime\_policies) | moid of the Kubernetes Runtime Policies. |
| <a name="output_endpoint"></a> [endpoint](#output\_endpoint) | Intersight URL. |
| <a name="output_ip_pools"></a> [ip\_pools](#output\_ip\_pools) | moid of the IP Pools. |
| <a name="output_kubernetes_version_policies"></a> [kubernetes\_version\_policies](#output\_kubernetes\_version\_policies) | moid of the Kubernetes Version Policies. |
| <a name="output_network_cidr_policies"></a> [network\_cidr\_policies](#output\_network\_cidr\_policies) | moid of the Kubernetes Network CIDR Policies. |
| <a name="output_nodeos_configuration_policies"></a> [nodeos\_configuration\_policies](#output\_nodeos\_configuration\_policies) | moid of the Kubernetes Node OS Config Policies. |
| <a name="output_org_moid"></a> [org\_moid](#output\_org\_moid) | n/a |
| <a name="output_tags"></a> [tags](#output\_tags) | Tags to be Associated with Objects Created in Intersight. |
| <a name="output_trusted_certificate_authorities"></a> [trusted\_certificate\_authorities](#output\_trusted\_certificate\_authorities) | moid of the Kubernetes Trusted Certificate Authorities Policy. |
| <a name="output_virtual_machine_infra_config"></a> [virtual\_machine\_infra\_config](#output\_virtual\_machine\_infra\_config) | moid of the Kubernetes Virtual Machine Infrastructure Configuration Policies. |
| <a name="output_virtual_machine_instance_type"></a> [virtual\_machine\_instance\_type](#output\_virtual\_machine\_instance\_type) | moid of the Virtual Machine Instance Type Policies. |
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
